<!DOCTYPE html>
<html>
	<head>
		<title>VR Tutorial</title>
		<meta charset="utf-8">

		<link rel="stylesheet" href="css/index.min.css">
	</head>

	<body>
		<section class="tutorial">
			{{# each tutorials }}
			{{# each sections }}
			<article id="{{ anchor ../title @index }}" class="{{#unless instruction}}fullscreen{{/unless}}">
				<h1>{{ ../title }}</h1>
				<h2>{{ subtitle }}</h2>

				{{# if instruction}}
					<p>{{{ instruction }}}</p>
					<div class="code">
						<textarea placeholder="Your code goes here..." data-mode="xml" hidden>{{{ code }}}</textarea>
						<textarea class="before" hidden>{{{ before }}}</textarea>
						<textarea class="after" hidden>{{{ after }}}</textarea>
						<fieldset>
							<a class="execute" href="#"><i class="fa fa-bolt"></i><span>Execute</span></a>
							<a class="next" href="#"><span>Next</span><i class="fa fa-caret-right"></i></a>
							<a class="previous" href="#"><i class="fa fa-caret-left"></i><span>Previous</span></a>
						</fieldset>
					</div>
				{{ else }}
					<p>{{{ text }}}</p>
					<fieldset>
						<a class="next" href="#"><span>Next</span><i class="fa fa-caret-right"></i></a>
						<a class="previous" href="#"><i class="fa fa-caret-left"></i><span>Previous</span></a>
					</fieldset>
				{{/ if }}
				</article>
			{{/ each }}
			{{/ each }}
		</section>

		<section class="preview">
			<iframe src="/preview?frame"></iframe>
			<span class="peer"></span>
		</section>

		<script src="js/jquery.min.js"></script>
		<script src="js/index.min.js"></script>

		<script async src="js/lz-string.min.js"></script>
		<script async src="js/socket.io.min.js"></script>
		<script async src="js/qrcode.min.js"></script>

		<script src="js/codemirror.min.js"></script>

		<script src="js/codemirror.autorefresh.min.js"></script>
		<script src="js/codemirror.xml.min.js"></script>
		<script src="js/codemirror.javascript.min.js"></script>
		<script src="js/codemirror.placeholder.min.js"></script>

		<noscript id="deferred-load">
			<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
			<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:500,700,800,900|Roboto+Mono">

			<link rel="stylesheet" href="css/codemirror.min.css">
			<link rel="stylesheet" href="css/theme.min.css">
		</noscript>
		<script>
			var deferredLoad = function() {
				var deferredLoadNode = document.getElementById("deferred-load");
				var replacement = document.createElement("div");
				replacement.innerHTML = deferredLoadNode.textContent;
				document.body.appendChild(replacement)
				deferredLoadNode.parentElement.removeChild(deferredLoadNode);
			};
			var raf = requestAnimationFrame || mozRequestAnimationFrame ||
			webkitRequestAnimationFrame || msRequestAnimationFrame;
			if (raf) raf(function() { window.setTimeout(deferredLoad, 0); });
			else window.addEventListener('load', deferredLoad);
		</script>
	</body>
</html>
